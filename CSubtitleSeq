public class CSubtitleSeq implements SubtitleSeq {
	
	private LinkedList<Subtitle> subList;

	@Override
	public void addSubtitle(Subtitle st) {
		subList.insert(st);
	}

	@Override
	public List<Subtitle> getSubtitles() {
		// TODO Auto-generated method stub
		return subList;
	}

	@Override
	public Subtitle getSubtitle(Time time) {

		subList.findFirst();

		while (!subList.last()){
			if(subList.retrieve().getStartTime().equals(time))
				return subList.retrieve();
			else {
				subList.findNext();  
			}
		
		}
		if(subList.retrieve().getStartTime().equals(time))
			return subList.retrieve();
		
		return null;
	}
//	private boolean compareInterval(Time st, Time et){
//		if(this.startTime.transferToMS()>=st.transferToMS()&&this.endTime.transferToMS()>=et.transferToMS())
//			return true;
//		
//		return false;
//	}
	private int transferToMS(Time time){ //this method transfer the time to millisecond 
		return (time.getHH()*3600000)+(time.getMM()*60000)+(time.getSS()*1000)+(time.getMS());
	}	


	@Override
	public List<Subtitle> getSubtitles(Time startTime, Time endTime) {
		// SpSub means the list that contains the subtitles between the specified time 
		LinkedList<Subtitle> spSub = new LinkedList<Subtitle>();
		subList.findFirst();
		int startTimeMS=transferToMS(startTime);//transfer the time of startTime to millisecond
		int endTimeMS=transferToMS(endTime);//transfer the time of endTime to millisecond
		while(!subList.last()){
			int st=transferToMS(subList.retrieve().getStartTime());//transfer start time in the list to millisecond
			int et=transferToMS(subList.retrieve().getEndTime());//transfer end time in the list to millisecond
			if(st>=startTimeMS&&et<=endTimeMS){
				spSub.insert(subList.retrieve());
				subList.findNext();
			}
			
		}
		
		return spSub;
	}

	@Override
	public List<Subtitle> getSubtitles(String str) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public void remove(String str) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void replace(String str1, String str2) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void shift(int offset) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void cut(Time startTime, Time endTime) {
		// TODO Auto-generated method stub
		
	}

}


